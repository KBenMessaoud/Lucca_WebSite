import { A11yModule } from '@angular/cdk/a11y';
import { AsyncPipe, NgClass, NgIf } from '@angular/common';
import { ChangeDetectionStrategy, Component, Directive, HostBinding, ViewChild, ViewContainerRef } from '@angular/core';
import { getIntl } from '@lucca-front/ng/core';
import { LuTooltipModule } from '@lucca-front/ng/tooltip';
import { isObservable, Observable, of, ReplaySubject, Subject, Subscription, timer } from 'rxjs';
import { delay, distinctUntilChanged, map, switchMap, tap } from 'rxjs/operators';
import { LU_MODAL_TRANSLATIONS } from './modal.translate';
import * as i0 from "@angular/core";
import * as i1 from "./modal-ref.model";
import * as i2 from "@angular/cdk/a11y";
import * as i3 from "@lucca-front/ng/tooltip";
let modalId = 0;
class ALuModalPanelComponent {
    get isSubmitHidden() {
        return !this._componentInstance.submitAction;
    }
    get submitPalette() {
        return this._componentInstance.submitPalette || 'primary';
    }
    constructor(_ref, _elementRef, _renderer) {
        this._ref = _ref;
        this.doCheck$ = new ReplaySubject(1);
        this.intl = getIntl(LU_MODAL_TRANSLATIONS);
        this.title$ = this.listenComponentValue(() => this._componentInstance.title);
        this.submitLabel$ = this.listenComponentValue(() => this._componentInstance.submitLabel || this.intl.submit);
        this.cancelLabel$ = this.listenComponentValue(() => this._componentInstance.cancelLabel || this.intl.cancel);
        this.submitCounter$ = this.listenComponentValue(() => this._componentInstance.submitCounter);
        this.submitDisabled$ = this.listenComponentValue(() => this._componentInstance.submitDisabled);
        this.hasSubmitCounter$ = this.submitCounter$.pipe(map(Boolean));
        this.closeLabel = this.intl.close;
        this.submitClass$ = new Subject();
        this.error$ = new Subject();
        this.modalId = modalId++;
        this._subs = new Subscription();
        this.modalClasses = _ref.modalClasses;
        _renderer.addClass(_elementRef.nativeElement, this.modalClasses.panel);
    }
    ngDoCheck() {
        this.doCheck$.next();
    }
    attachInnerComponent(componentType, injector) {
        const ref = this._containerRef.createComponent(componentType, { injector });
        this._componentInstance = ref.instance;
        return ref;
    }
    ngOnDestroy() {
        this.doCheck$.complete();
        this._subs.unsubscribe();
    }
    dismiss() {
        this._ref.dismiss();
    }
    submit() {
        this.error$.next(undefined);
        this.submitClass$.next('is-loading');
        const result$ = this._componentInstance.submitAction();
        if (result$ instanceof Observable) {
            this._subs.add(result$
                .pipe(tap((_) => this.submitClass$.next('is-success')), delay(500))
                .subscribe({
                next: (result) => this._ref.close(result),
                error: (err) => {
                    this.submitClass$.next('is-error');
                    this.error$.next(err);
                    timer(2000).subscribe((_) => {
                        this.submitClass$.next('');
                    });
                },
                complete: () => {
                    this.submitClass$.next('');
                },
            }));
        }
        else {
            this._ref.close(result$);
        }
    }
    listenComponentValue(selector) {
        return this.doCheck$.pipe(map(selector), distinctUntilChanged(), switchMap((value) => (isObservable(value) ? value : of(value))));
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.1.3", ngImport: i0, type: ALuModalPanelComponent, deps: [{ token: i1.ALuModalRef }, { token: i0.ElementRef }, { token: i0.Renderer2 }], target: i0.ɵɵFactoryTarget.Directive }); }
    static { this.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "14.0.0", version: "16.1.3", type: ALuModalPanelComponent, viewQueries: [{ propertyName: "_containerRef", first: true, predicate: ["container"], descendants: true, read: ViewContainerRef, static: true }], ngImport: i0 }); }
}
export { ALuModalPanelComponent };
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.1.3", ngImport: i0, type: ALuModalPanelComponent, decorators: [{
            type: Directive
        }], ctorParameters: function () { return [{ type: i1.ALuModalRef }, { type: i0.ElementRef }, { type: i0.Renderer2 }]; }, propDecorators: { _containerRef: [{
                type: ViewChild,
                args: ['container', { read: ViewContainerRef, static: true }]
            }] } });
const panelImports = [A11yModule, AsyncPipe, LuTooltipModule, NgClass, NgIf];
class LuModalPanelComponent extends ALuModalPanelComponent {
    constructor(_ref, _elementRef, _renderer) {
        super(_ref, _elementRef, _renderer);
        this.class = true;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.1.3", ngImport: i0, type: LuModalPanelComponent, deps: [{ token: i1.ALuModalRef }, { token: i0.ElementRef }, { token: i0.Renderer2 }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.1.3", type: LuModalPanelComponent, isStandalone: true, selector: "lu-modal-panel", host: { properties: { "class.lu-modal-panel": "this.class" } }, usesInheritance: true, ngImport: i0, template: "<div\n\tcdkTrapFocus=\"true\"\n\tcdkTrapFocusAutoCapture=\"true\"\n\trole=\"dialog\"\n\taria-modal=\"true\"\n\t[attr.aria-labelledby]=\"'luModalTitle' + modalId\"\n\t[ngClass]=\"modalClasses.panelInner\"\n>\n\t<div [ngClass]=\"modalClasses.panelContainer\" role=\"document\">\n\t\t<div class=\"lu-modal-header\" tabindex=\"-1\" cdkFocusInitial>\n\t\t\t<button type=\"button\" class=\"actionIcon mod-S lu-modal-header-close\" (click)=\"dismiss()\" [luTooltip]=\"closeLabel\">\n\t\t\t\t<span aria-hidden=\"true\" class=\"lucca-icon icon-signClose\"></span>\n\t\t\t\t<span class=\"u-mask\">{{ closeLabel }}</span>\n\t\t\t</button>\n\t\t\t<h1 [attr.id]=\"'luModalTitle' + modalId\" class=\"lu-modal-header-title\">{{ title$ | async }}</h1>\n\t\t</div>\n\t\t<div class=\"lu-modal-content\">\n\t\t\t<ng-container #container></ng-container>\n\t\t</div>\n\t\t<div class=\"lu-modal-footer\">\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\t*ngIf=\"!isSubmitHidden\"\n\t\t\t\tclass=\"button palette-{{ submitPalette }}\"\n\t\t\t\t[disabled]=\"submitDisabled$ | async\"\n\t\t\t\t[ngClass]=\"submitClass$ | async\"\n\t\t\t\t(click)=\"submit()\"\n\t\t\t>\n\t\t\t\t{{ submitLabel$ | async }}\n\t\t\t\t<label class=\"numericBadge palette-primary\" *ngIf=\"hasSubmitCounter$ | async\">{{ submitCounter$ | async }}</label>\n\t\t\t</button>\n\t\t\t<button type=\"button\" class=\"button mod-text\" (click)=\"dismiss()\">{{ cancelLabel$ | async }}</button>\n\t\t</div>\n\t</div>\n</div>\n", styles: [""], dependencies: [{ kind: "ngmodule", type: A11yModule }, { kind: "directive", type: i2.CdkTrapFocus, selector: "[cdkTrapFocus]", inputs: ["cdkTrapFocus", "cdkTrapFocusAutoCapture"], exportAs: ["cdkTrapFocus"] }, { kind: "pipe", type: AsyncPipe, name: "async" }, { kind: "ngmodule", type: LuTooltipModule }, { kind: "directive", type: i3.LuTooltipTriggerDirective, selector: "[luTooltip]", inputs: ["luTooltip", "luTooltipEnterDelay", "luTooltipLeaveDelay", "luTooltipDisabled", "luTooltipPosition", "luTooltipWhenEllipsis"], outputs: ["luTooltipOnOpen", "luTooltipOnClose"] }, { kind: "directive", type: NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
}
export { LuModalPanelComponent };
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.1.3", ngImport: i0, type: LuModalPanelComponent, decorators: [{
            type: Component,
            args: [{ selector: 'lu-modal-panel', standalone: true, imports: panelImports, changeDetection: ChangeDetectionStrategy.OnPush, template: "<div\n\tcdkTrapFocus=\"true\"\n\tcdkTrapFocusAutoCapture=\"true\"\n\trole=\"dialog\"\n\taria-modal=\"true\"\n\t[attr.aria-labelledby]=\"'luModalTitle' + modalId\"\n\t[ngClass]=\"modalClasses.panelInner\"\n>\n\t<div [ngClass]=\"modalClasses.panelContainer\" role=\"document\">\n\t\t<div class=\"lu-modal-header\" tabindex=\"-1\" cdkFocusInitial>\n\t\t\t<button type=\"button\" class=\"actionIcon mod-S lu-modal-header-close\" (click)=\"dismiss()\" [luTooltip]=\"closeLabel\">\n\t\t\t\t<span aria-hidden=\"true\" class=\"lucca-icon icon-signClose\"></span>\n\t\t\t\t<span class=\"u-mask\">{{ closeLabel }}</span>\n\t\t\t</button>\n\t\t\t<h1 [attr.id]=\"'luModalTitle' + modalId\" class=\"lu-modal-header-title\">{{ title$ | async }}</h1>\n\t\t</div>\n\t\t<div class=\"lu-modal-content\">\n\t\t\t<ng-container #container></ng-container>\n\t\t</div>\n\t\t<div class=\"lu-modal-footer\">\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\t*ngIf=\"!isSubmitHidden\"\n\t\t\t\tclass=\"button palette-{{ submitPalette }}\"\n\t\t\t\t[disabled]=\"submitDisabled$ | async\"\n\t\t\t\t[ngClass]=\"submitClass$ | async\"\n\t\t\t\t(click)=\"submit()\"\n\t\t\t>\n\t\t\t\t{{ submitLabel$ | async }}\n\t\t\t\t<label class=\"numericBadge palette-primary\" *ngIf=\"hasSubmitCounter$ | async\">{{ submitCounter$ | async }}</label>\n\t\t\t</button>\n\t\t\t<button type=\"button\" class=\"button mod-text\" (click)=\"dismiss()\">{{ cancelLabel$ | async }}</button>\n\t\t</div>\n\t</div>\n</div>\n" }]
        }], ctorParameters: function () { return [{ type: i1.ALuModalRef }, { type: i0.ElementRef }, { type: i0.Renderer2 }]; }, propDecorators: { class: [{
                type: HostBinding,
                args: ['class.lu-modal-panel']
            }] } });
class LuModalPanelComponentDefaultCD extends ALuModalPanelComponent {
    constructor(_ref, _elementRef, _renderer) {
        super(_ref, _elementRef, _renderer);
        this.class = true;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.1.3", ngImport: i0, type: LuModalPanelComponentDefaultCD, deps: [{ token: i1.ALuModalRef }, { token: i0.ElementRef }, { token: i0.Renderer2 }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.1.3", type: LuModalPanelComponentDefaultCD, isStandalone: true, selector: "lu-modal-panel-default", host: { properties: { "class.lu-modal-panel": "this.class" } }, usesInheritance: true, ngImport: i0, template: "<div\n\tcdkTrapFocus=\"true\"\n\tcdkTrapFocusAutoCapture=\"true\"\n\trole=\"dialog\"\n\taria-modal=\"true\"\n\t[attr.aria-labelledby]=\"'luModalTitle' + modalId\"\n\t[ngClass]=\"modalClasses.panelInner\"\n>\n\t<div [ngClass]=\"modalClasses.panelContainer\" role=\"document\">\n\t\t<div class=\"lu-modal-header\" tabindex=\"-1\" cdkFocusInitial>\n\t\t\t<button type=\"button\" class=\"actionIcon mod-S lu-modal-header-close\" (click)=\"dismiss()\" [luTooltip]=\"closeLabel\">\n\t\t\t\t<span aria-hidden=\"true\" class=\"lucca-icon icon-signClose\"></span>\n\t\t\t\t<span class=\"u-mask\">{{ closeLabel }}</span>\n\t\t\t</button>\n\t\t\t<h1 [attr.id]=\"'luModalTitle' + modalId\" class=\"lu-modal-header-title\">{{ title$ | async }}</h1>\n\t\t</div>\n\t\t<div class=\"lu-modal-content\">\n\t\t\t<ng-container #container></ng-container>\n\t\t</div>\n\t\t<div class=\"lu-modal-footer\">\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\t*ngIf=\"!isSubmitHidden\"\n\t\t\t\tclass=\"button palette-{{ submitPalette }}\"\n\t\t\t\t[disabled]=\"submitDisabled$ | async\"\n\t\t\t\t[ngClass]=\"submitClass$ | async\"\n\t\t\t\t(click)=\"submit()\"\n\t\t\t>\n\t\t\t\t{{ submitLabel$ | async }}\n\t\t\t\t<label class=\"numericBadge palette-primary\" *ngIf=\"hasSubmitCounter$ | async\">{{ submitCounter$ | async }}</label>\n\t\t\t</button>\n\t\t\t<button type=\"button\" class=\"button mod-text\" (click)=\"dismiss()\">{{ cancelLabel$ | async }}</button>\n\t\t</div>\n\t</div>\n</div>\n", styles: [""], dependencies: [{ kind: "ngmodule", type: A11yModule }, { kind: "directive", type: i2.CdkTrapFocus, selector: "[cdkTrapFocus]", inputs: ["cdkTrapFocus", "cdkTrapFocusAutoCapture"], exportAs: ["cdkTrapFocus"] }, { kind: "pipe", type: AsyncPipe, name: "async" }, { kind: "ngmodule", type: LuTooltipModule }, { kind: "directive", type: i3.LuTooltipTriggerDirective, selector: "[luTooltip]", inputs: ["luTooltip", "luTooltipEnterDelay", "luTooltipLeaveDelay", "luTooltipDisabled", "luTooltipPosition", "luTooltipWhenEllipsis"], outputs: ["luTooltipOnOpen", "luTooltipOnClose"] }, { kind: "directive", type: NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }], changeDetection: i0.ChangeDetectionStrategy.Default }); }
}
export { LuModalPanelComponentDefaultCD };
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.1.3", ngImport: i0, type: LuModalPanelComponentDefaultCD, decorators: [{
            type: Component,
            args: [{ selector: 'lu-modal-panel-default', standalone: true, imports: panelImports, changeDetection: ChangeDetectionStrategy.Default, template: "<div\n\tcdkTrapFocus=\"true\"\n\tcdkTrapFocusAutoCapture=\"true\"\n\trole=\"dialog\"\n\taria-modal=\"true\"\n\t[attr.aria-labelledby]=\"'luModalTitle' + modalId\"\n\t[ngClass]=\"modalClasses.panelInner\"\n>\n\t<div [ngClass]=\"modalClasses.panelContainer\" role=\"document\">\n\t\t<div class=\"lu-modal-header\" tabindex=\"-1\" cdkFocusInitial>\n\t\t\t<button type=\"button\" class=\"actionIcon mod-S lu-modal-header-close\" (click)=\"dismiss()\" [luTooltip]=\"closeLabel\">\n\t\t\t\t<span aria-hidden=\"true\" class=\"lucca-icon icon-signClose\"></span>\n\t\t\t\t<span class=\"u-mask\">{{ closeLabel }}</span>\n\t\t\t</button>\n\t\t\t<h1 [attr.id]=\"'luModalTitle' + modalId\" class=\"lu-modal-header-title\">{{ title$ | async }}</h1>\n\t\t</div>\n\t\t<div class=\"lu-modal-content\">\n\t\t\t<ng-container #container></ng-container>\n\t\t</div>\n\t\t<div class=\"lu-modal-footer\">\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\t*ngIf=\"!isSubmitHidden\"\n\t\t\t\tclass=\"button palette-{{ submitPalette }}\"\n\t\t\t\t[disabled]=\"submitDisabled$ | async\"\n\t\t\t\t[ngClass]=\"submitClass$ | async\"\n\t\t\t\t(click)=\"submit()\"\n\t\t\t>\n\t\t\t\t{{ submitLabel$ | async }}\n\t\t\t\t<label class=\"numericBadge palette-primary\" *ngIf=\"hasSubmitCounter$ | async\">{{ submitCounter$ | async }}</label>\n\t\t\t</button>\n\t\t\t<button type=\"button\" class=\"button mod-text\" (click)=\"dismiss()\">{{ cancelLabel$ | async }}</button>\n\t\t</div>\n\t</div>\n</div>\n" }]
        }], ctorParameters: function () { return [{ type: i1.ALuModalRef }, { type: i0.ElementRef }, { type: i0.Renderer2 }]; }, propDecorators: { class: [{
                type: HostBinding,
                args: ['class.lu-modal-panel']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kYWwtcGFuZWwuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcGFja2FnZXMvbmcvbW9kYWwvbW9kYWwtcGFuZWwuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vcGFja2FnZXMvbmcvbW9kYWwvbW9kYWwtcGFuZWwuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQy9DLE9BQU8sRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzNELE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUF1QixXQUFXLEVBQXdDLFNBQVMsRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNuTCxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDL0MsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQzFELE9BQU8sRUFBRSxZQUFZLEVBQUUsVUFBVSxFQUFFLEVBQUUsRUFBRSxhQUFhLEVBQUUsT0FBTyxFQUFFLFlBQVksRUFBRSxLQUFLLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFDakcsT0FBTyxFQUFFLEtBQUssRUFBRSxvQkFBb0IsRUFBRSxHQUFHLEVBQUUsU0FBUyxFQUFFLEdBQUcsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBSWxGLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLG1CQUFtQixDQUFDOzs7OztBQUUxRCxJQUFJLE9BQU8sR0FBRyxDQUFDLENBQUM7QUFFaEIsTUFDc0Isc0JBQXNCO0lBZ0IzQyxJQUFJLGNBQWM7UUFDakIsT0FBTyxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxZQUFZLENBQUM7SUFDOUMsQ0FBQztJQUNELElBQUksYUFBYTtRQUNoQixPQUFPLElBQUksQ0FBQyxr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LDZTQUFFLE9BQU8sb0ZBQUUsSUFBSTs7U0F5QjlELDhCQUE4QjsyRkFBOUIsOEJBQThCO2tCQVQxQyxTQUFTOytCQUNDLHdCQUF3QixjQUN0QixJQUFJLFdBQ1AsWUFBWSxtQkFHSix1QkFBdUIsQ0FBQyxPQUFPO21KQUlYLEtBQUs7c0JBQXpDLFdBQVc7dUJBQUMsc0JBQXNCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQTExeU1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2Nkay9hMTF5JztcbmltcG9ydCB7IEFzeW5jUGlwZSwgTmdDbGFzcywgTmdJZiB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgQ29tcG9uZW50LCBEaXJlY3RpdmUsIERvQ2hlY2ssIEVsZW1lbnRSZWYsIEhvc3RCaW5kaW5nLCBJbmplY3RvciwgT25EZXN0cm95LCBSZW5kZXJlcjIsIFR5cGUsIFZpZXdDaGlsZCwgVmlld0NvbnRhaW5lclJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgZ2V0SW50bCB9IGZyb20gJ0BsdWNjYS1mcm9udC9uZy9jb3JlJztcbmltcG9ydCB7IEx1VG9vbHRpcE1vZHVsZSB9IGZyb20gJ0BsdWNjYS1mcm9udC9uZy90b29sdGlwJztcbmltcG9ydCB7IGlzT2JzZXJ2YWJsZSwgT2JzZXJ2YWJsZSwgb2YsIFJlcGxheVN1YmplY3QsIFN1YmplY3QsIFN1YnNjcmlwdGlvbiwgdGltZXIgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGRlbGF5LCBkaXN0aW5jdFVudGlsQ2hhbmdlZCwgbWFwLCBzd2l0Y2hNYXAsIHRhcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IEx1TW9kYWxDbGFzc2VzIH0gZnJvbSAnLi9tb2RhbC1jb25maWcubW9kZWwnO1xuaW1wb3J0IHsgQUx1TW9kYWxSZWYgfSBmcm9tICcuL21vZGFsLXJlZi5tb2RlbCc7XG5pbXBvcnQgeyBJTHVNb2RhbENvbnRlbnQgfSBmcm9tICcuL21vZGFsLm1vZGVsJztcbmltcG9ydCB7IExVX01PREFMX1RSQU5TTEFUSU9OUyB9IGZyb20gJy4vbW9kYWwudHJhbnNsYXRlJztcblxubGV0IG1vZGFsSWQgPSAwO1xuXG5ARGlyZWN0aXZlKClcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBTHVNb2RhbFBhbmVsQ29tcG9uZW50PFQgZXh0ZW5kcyBJTHVNb2RhbENvbnRlbnQ+IGltcGxlbWVudHMgT25EZXN0cm95LCBEb0NoZWNrIHtcblx0QFZpZXdDaGlsZCgnY29udGFpbmVyJywgeyByZWFkOiBWaWV3Q29udGFpbmVyUmVmLCBzdGF0aWM6IHRydWUgfSlcblx0cHJvdGVjdGVkIF9jb250YWluZXJSZWY6IFZpZXdDb250YWluZXJSZWY7XG5cdHByb3RlY3RlZCBfY29tcG9uZW50SW5zdGFuY2U6IElMdU1vZGFsQ29udGVudDtcblx0cHJvdGVjdGVkIGRvQ2hlY2skID0gbmV3IFJlcGxheVN1YmplY3Q8dm9pZD4oMSk7XG5cblx0cHVibGljIGludGwgPSBnZXRJbnRsKExVX01PREFMX1RSQU5TTEFUSU9OUyk7XG5cdHByb3RlY3RlZCB0aXRsZSQgPSB0aGlzLmxpc3RlbkNvbXBvbmVudFZhbHVlKCgpID0+IHRoaXMuX2NvbXBvbmVudEluc3RhbmNlLnRpdGxlKTtcblx0cHJvdGVjdGVkIHN1Ym1pdExhYmVsJCA9IHRoaXMubGlzdGVuQ29tcG9uZW50VmFsdWUoKCkgPT4gdGhpcy5fY29tcG9uZW50SW5zdGFuY2Uuc3VibWl0TGFiZWwgfHwgdGhpcy5pbnRsLnN1Ym1pdCk7XG5cdHByb3RlY3RlZCBjYW5jZWxMYWJlbCQgPSB0aGlzLmxpc3RlbkNvbXBvbmVudFZhbHVlKCgpID0+IHRoaXMuX2NvbXBvbmVudEluc3RhbmNlLmNhbmNlbExhYmVsIHx8IHRoaXMuaW50bC5jYW5jZWwpO1xuXHRwcm90ZWN0ZWQgc3VibWl0Q291bnRlciQgPSB0aGlzLmxpc3RlbkNvbXBvbmVudFZhbHVlKCgpID0+IHRoaXMuX2NvbXBvbmVudEluc3RhbmNlLnN1Ym1pdENvdW50ZXIpO1xuXHRwcm90ZWN0ZWQgc3VibWl0RGlzYWJsZWQkID0gdGhpcy5saXN0ZW5Db21wb25lbnRWYWx1ZSgoKSA9PiB0aGlzLl9jb21wb25lbnRJbnN0YW5jZS5zdWJtaXREaXNhYmxlZCk7XG5cdHByb3RlY3RlZCBoYXNTdWJtaXRDb3VudGVyJCA9IHRoaXMuc3VibWl0Q291bnRlciQucGlwZShtYXAoQm9vbGVhbikpO1xuXG5cdHByb3RlY3RlZCBjbG9zZUxhYmVsID0gdGhpcy5pbnRsLmNsb3NlO1xuXG5cdGdldCBpc1N1Ym1pdEhpZGRlbigpIHtcblx0XHRyZXR1cm4gIXRoaXMuX2NvbXBvbmVudEluc3RhbmNlLnN1Ym1pdEFjdGlvbjtcblx0fVxuXHRnZXQgc3VibWl0UGFsZXR0ZSgpIHtcblx0XHRyZXR1cm4gdGhpcy5fY29tcG9uZW50SW5zdGFuY2Uuc3VibWl0UGFsZXR0ZSB8fCAncHJpbWFyeSc7XG5cdH1cblxuXHRzdWJtaXRDbGFzcyQgPSBuZXcgU3ViamVjdCgpO1xuXHRlcnJvciQgPSBuZXcgU3ViamVjdCgpO1xuXG5cdHB1YmxpYyByZWFkb25seSBtb2RhbElkID0gbW9kYWxJZCsrO1xuXG5cdHByaXZhdGUgX3N1YnMgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG5cdHB1YmxpYyBtb2RhbENsYXNzZXM6IEx1TW9kYWxDbGFzc2VzO1xuXG5cdGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfcmVmOiBBTHVNb2RhbFJlZjxUPiwgX2VsZW1lbnRSZWY6IEVsZW1lbnRSZWY8SFRNTEVsZW1lbnQ+LCBfcmVuZGVyZXI6IFJlbmRlcmVyMikge1xuXHRcdHRoaXMubW9kYWxDbGFzc2VzID0gX3JlZi5tb2RhbENsYXNzZXM7XG5cdFx0X3JlbmRlcmVyLmFkZENsYXNzKF9lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQsIHRoaXMubW9kYWxDbGFzc2VzLnBhbmVsKTtcblx0fVxuXHRuZ0RvQ2hlY2soKTogdm9pZCB7XG5cdFx0dGhpcy5kb0NoZWNrJC5uZXh0KCk7XG5cdH1cblx0YXR0YWNoSW5uZXJDb21wb25lbnQoY29tcG9uZW50VHlwZTogVHlwZTxUPiwgaW5qZWN0b3I6IEluamVjdG9yKSB7XG5cdFx0Y29uc3QgcmVmID0gdGhpcy5fY29udGFpbmVyUmVmLmNyZWF0ZUNvbXBvbmVudChjb21wb25lbnRUeXBlLCB7IGluamVjdG9yIH0pO1xuXHRcdHRoaXMuX2NvbXBvbmVudEluc3RhbmNlID0gcmVmLmluc3RhbmNlO1xuXHRcdHJldHVybiByZWY7XG5cdH1cblx0bmdPbkRlc3Ryb3koKSB7XG5cdFx0dGhpcy5kb0NoZWNrJC5jb21wbGV0ZSgpO1xuXHRcdHRoaXMuX3N1YnMudW5zdWJzY3JpYmUoKTtcblx0fVxuXHRkaXNtaXNzKCkge1xuXHRcdHRoaXMuX3JlZi5kaXNtaXNzKCk7XG5cdH1cblx0c3VibWl0KCkge1xuXHRcdHRoaXMuZXJyb3IkLm5leHQodW5kZWZpbmVkKTtcblx0XHR0aGlzLnN1Ym1pdENsYXNzJC5uZXh0KCdpcy1sb2FkaW5nJyk7XG5cdFx0Y29uc3QgcmVzdWx0JCA9IHRoaXMuX2NvbXBvbmVudEluc3RhbmNlLnN1Ym1pdEFjdGlvbigpO1xuXHRcdGlmIChyZXN1bHQkIGluc3RhbmNlb2YgT2JzZXJ2YWJsZSkge1xuXHRcdFx0dGhpcy5fc3Vicy5hZGQoXG5cdFx0XHRcdHJlc3VsdCRcblx0XHRcdFx0XHQucGlwZShcblx0XHRcdFx0XHRcdHRhcCgoXykgPT4gdGhpcy5zdWJtaXRDbGFzcyQubmV4dCgnaXMtc3VjY2VzcycpKSxcblx0XHRcdFx0XHRcdGRlbGF5KDUwMCksXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHRcdC5zdWJzY3JpYmUoe1xuXHRcdFx0XHRcdFx0bmV4dDogKHJlc3VsdCkgPT4gdGhpcy5fcmVmLmNsb3NlKHJlc3VsdCksXG5cdFx0XHRcdFx0XHRlcnJvcjogKGVycikgPT4ge1xuXHRcdFx0XHRcdFx0XHR0aGlzLnN1Ym1pdENsYXNzJC5uZXh0KCdpcy1lcnJvcicpO1xuXHRcdFx0XHRcdFx0XHR0aGlzLmVycm9yJC5uZXh0KGVycik7XG5cdFx0XHRcdFx0XHRcdHRpbWVyKDIwMDApLnN1YnNjcmliZSgoXykgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMuc3VibWl0Q2xhc3MkLm5leHQoJycpO1xuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRjb21wbGV0ZTogKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHR0aGlzLnN1Ym1pdENsYXNzJC5uZXh0KCcnKTtcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0fSksXG5cdFx0XHQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9yZWYuY2xvc2UocmVzdWx0JCk7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBsaXN0ZW5Db21wb25lbnRWYWx1ZTxUVmFsdWU+KHNlbGVjdG9yOiAoKSA9PiBUVmFsdWUgfCBPYnNlcnZhYmxlPFRWYWx1ZT4pOiBPYnNlcnZhYmxlPFRWYWx1ZT4ge1xuXHRcdHJldHVybiB0aGlzLmRvQ2hlY2skLnBpcGUoXG5cdFx0XHRtYXAoc2VsZWN0b3IpLFxuXHRcdFx0ZGlzdGluY3RVbnRpbENoYW5nZWQoKSxcblx0XHRcdHN3aXRjaE1hcCgodmFsdWUpID0+IChpc09ic2VydmFibGUodmFsdWUpID8gdmFsdWUgOiBvZih2YWx1ZSkpKSxcblx0XHQpO1xuXHR9XG59XG5cbmNvbnN0IHBhbmVsSW1wb3J0cyA9IFtBMTF5TW9kdWxlLCBBc3luY1BpcGUsIEx1VG9vbHRpcE1vZHVsZSwgTmdDbGFzcywgTmdJZl07XG5cbkBDb21wb25lbnQoe1xuXHRzZWxlY3RvcjogJ2x1LW1vZGFsLXBhbmVsJyxcblx0c3RhbmRhbG9uZTogdHJ1ZSxcblx0aW1wb3J0czogcGFuZWxJbXBvcnRzLFxuXHR0ZW1wbGF0ZVVybDogJy4vbW9kYWwtcGFuZWwuY29tcG9uZW50Lmh0bWwnLFxuXHRzdHlsZVVybHM6IFsnLi9tb2RhbC1wYW5lbC5jb21wb25lbnQuc2NzcyddLFxuXHRjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbn0pXG5leHBvcnQgY2xhc3MgTHVNb2RhbFBhbmVsQ29tcG9uZW50PFQgZXh0ZW5kcyBJTHVNb2RhbENvbnRlbnQgPSBJTHVNb2RhbENvbnRlbnQ+IGV4dGVuZHMgQUx1TW9kYWxQYW5lbENvbXBvbmVudDxUPiB7XG5cdEBIb3N0QmluZGluZygnY2xhc3MubHUtbW9kYWwtcGFuZWwnKSBjbGFzcyA9IHRydWU7XG5cdGNvbnN0cnVjdG9yKF9yZWY6IEFMdU1vZGFsUmVmPFQ+LCBfZWxlbWVudFJlZjogRWxlbWVudFJlZjxIVE1MRWxlbWVudD4sIF9yZW5kZXJlcjogUmVuZGVyZXIyKSB7XG5cdFx0c3VwZXIoX3JlZiwgX2VsZW1lbnRSZWYsIF9yZW5kZXJlcik7XG5cdH1cbn1cbkBDb21wb25lbnQoe1xuXHRzZWxlY3RvcjogJ2x1LW1vZGFsLXBhbmVsLWRlZmF1bHQnLFxuXHRzdGFuZGFsb25lOiB0cnVlLFxuXHRpbXBvcnRzOiBwYW5lbEltcG9ydHMsXG5cdHRlbXBsYXRlVXJsOiAnLi9tb2RhbC1wYW5lbC5jb21wb25lbnQuaHRtbCcsXG5cdHN0eWxlVXJsczogWycuL21vZGFsLXBhbmVsLmNvbXBvbmVudC5zY3NzJ10sXG5cdGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuRGVmYXVsdCxcbn0pXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L2NvbXBvbmVudC1jbGFzcy1zdWZmaXhcbmV4cG9ydCBjbGFzcyBMdU1vZGFsUGFuZWxDb21wb25lbnREZWZhdWx0Q0Q8VCBleHRlbmRzIElMdU1vZGFsQ29udGVudCA9IElMdU1vZGFsQ29udGVudD4gZXh0ZW5kcyBBTHVNb2RhbFBhbmVsQ29tcG9uZW50PFQ+IHtcblx0QEhvc3RCaW5kaW5nKCdjbGFzcy5sdS1tb2RhbC1wYW5lbCcpIGNsYXNzID0gdHJ1ZTtcblx0Y29uc3RydWN0b3IoX3JlZjogQUx1TW9kYWxSZWY8VD4sIF9lbGVtZW50UmVmOiBFbGVtZW50UmVmPEhUTUxFbGVtZW50PiwgX3JlbmRlcmVyOiBSZW5kZXJlcjIpIHtcblx0XHRzdXBlcihfcmVmLCBfZWxlbWVudFJlZiwgX3JlbmRlcmVyKTtcblx0fVxufVxuIiwiPGRpdlxuXHRjZGtUcmFwRm9jdXM9XCJ0cnVlXCJcblx0Y2RrVHJhcEZvY3VzQXV0b0NhcHR1cmU9XCJ0cnVlXCJcblx0cm9sZT1cImRpYWxvZ1wiXG5cdGFyaWEtbW9kYWw9XCJ0cnVlXCJcblx0W2F0dHIuYXJpYS1sYWJlbGxlZGJ5XT1cIidsdU1vZGFsVGl0bGUnICsgbW9kYWxJZFwiXG5cdFtuZ0NsYXNzXT1cIm1vZGFsQ2xhc3Nlcy5wYW5lbElubmVyXCJcbj5cblx0PGRpdiBbbmdDbGFzc109XCJtb2RhbENsYXNzZXMucGFuZWxDb250YWluZXJcIiByb2xlPVwiZG9jdW1lbnRcIj5cblx0XHQ8ZGl2IGNsYXNzPVwibHUtbW9kYWwtaGVhZGVyXCIgdGFiaW5kZXg9XCItMVwiIGNka0ZvY3VzSW5pdGlhbD5cblx0XHRcdDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYWN0aW9uSWNvbiBtb2QtUyBsdS1tb2RhbC1oZWFkZXItY2xvc2VcIiAoY2xpY2spPVwiZGlzbWlzcygpXCIgW2x1VG9vbHRpcF09XCJjbG9zZUxhYmVsXCI+XG5cdFx0XHRcdDxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIGNsYXNzPVwibHVjY2EtaWNvbiBpY29uLXNpZ25DbG9zZVwiPjwvc3Bhbj5cblx0XHRcdFx0PHNwYW4gY2xhc3M9XCJ1LW1hc2tcIj57eyBjbG9zZUxhYmVsIH19PC9zcGFuPlxuXHRcdFx0PC9idXR0b24+XG5cdFx0XHQ8aDEgW2F0dHIuaWRdPVwiJ2x1TW9kYWxUaXRsZScgKyBtb2RhbElkXCIgY2xhc3M9XCJsdS1tb2RhbC1oZWFkZXItdGl0bGVcIj57eyB0aXRsZSQgfCBhc3luYyB9fTwvaDE+XG5cdFx0PC9kaXY+XG5cdFx0PGRpdiBjbGFzcz1cImx1LW1vZGFsLWNvbnRlbnRcIj5cblx0XHRcdDxuZy1jb250YWluZXIgI2NvbnRhaW5lcj48L25nLWNvbnRhaW5lcj5cblx0XHQ8L2Rpdj5cblx0XHQ8ZGl2IGNsYXNzPVwibHUtbW9kYWwtZm9vdGVyXCI+XG5cdFx0XHQ8YnV0dG9uXG5cdFx0XHRcdHR5cGU9XCJidXR0b25cIlxuXHRcdFx0XHQqbmdJZj1cIiFpc1N1Ym1pdEhpZGRlblwiXG5cdFx0XHRcdGNsYXNzPVwiYnV0dG9uIHBhbGV0dGUte3sgc3VibWl0UGFsZXR0ZSB9fVwiXG5cdFx0XHRcdFtkaXNhYmxlZF09XCJzdWJtaXREaXNhYmxlZCQgfCBhc3luY1wiXG5cdFx0XHRcdFtuZ0NsYXNzXT1cInN1Ym1pdENsYXNzJCB8IGFzeW5jXCJcblx0XHRcdFx0KGNsaWNrKT1cInN1Ym1pdCgpXCJcblx0XHRcdD5cblx0XHRcdFx0e3sgc3VibWl0TGFiZWwkIHwgYXN5bmMgfX1cblx0XHRcdFx0PGxhYmVsIGNsYXNzPVwibnVtZXJpY0JhZGdlIHBhbGV0dGUtcHJpbWFyeVwiICpuZ0lmPVwiaGFzU3VibWl0Q291bnRlciQgfCBhc3luY1wiPnt7IHN1Ym1pdENvdW50ZXIkIHwgYXN5bmMgfX08L2xhYmVsPlxuXHRcdFx0PC9idXR0b24+XG5cdFx0XHQ8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ1dHRvbiBtb2QtdGV4dFwiIChjbGljayk9XCJkaXNtaXNzKClcIj57eyBjYW5jZWxMYWJlbCQgfCBhc3luYyB9fTwvYnV0dG9uPlxuXHRcdDwvZGl2PlxuXHQ8L2Rpdj5cbjwvZGl2PlxuIl19