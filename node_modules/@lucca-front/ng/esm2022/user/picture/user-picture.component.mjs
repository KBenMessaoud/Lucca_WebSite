import { ChangeDetectionStrategy, Component, Input, Optional } from '@angular/core';
import { LuDisplayFullname, LuDisplayInitials } from '../display';
import * as i0 from "@angular/core";
import * as i1 from "../display";
import * as i2 from "@angular/common";
/**
 * Displays user's picture or a placeholder with his/her initials and random bg color'
 */
class LuUserPictureComponent {
    /**
     * User Display format.
     * It is set to 'LF' by default
     */
    set displayFormat(displayFormat) {
        this._displayFormat = displayFormat;
        this._changeDetector.markForCheck();
    }
    get displayFormat() {
        return this._displayFormat;
    }
    set user(user) {
        this._user = user;
        this.initials = this.displayPipe.transform(user, this.displayFormat);
        const pictureHref = user?.picture?.href || user?.pictureHref;
        this.hasPicture = !!pictureHref;
        this.pictureHref = pictureHref;
        if (!this.hasPicture) {
            const hsl = this.getNameHue();
            this.style = { 'background-color': `hsl(${hsl}, 60%, 60%)` };
        }
        this._changeDetector.markForCheck();
    }
    get user() {
        return this._user;
    }
    constructor(displayPipe, _changeDetector) {
        this.displayPipe = displayPipe;
        this._changeDetector = _changeDetector;
        this._displayFormat = LuDisplayInitials.lastfirst;
        this.initials = '';
        this.hasPicture = false;
        this.pictureHref = '';
        this.style = {};
    }
    pictureError() {
        this.hasPicture = false;
        const hsl = this.getNameHue();
        this.style = { 'background-color': `hsl(${hsl}, 60%, 60%)` };
    }
    getNameHue() {
        // we sum the chars in user's firstname + lastname
        const charSum = this.displayPipe
            .transform(this._user, LuDisplayFullname.firstlast)
            .split('')
            .reduce((sum, a) => sum + a.charCodeAt(0), 0);
        // and take a modulo 360 for hue
        return charSum % 360;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.1.3", ngImport: i0, type: LuUserPictureComponent, deps: [{ token: i1.LuUserDisplayPipe }, { token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.1.3", type: LuUserPictureComponent, selector: "lu-user-picture", inputs: { displayFormat: "displayFormat", user: "user" }, ngImport: i0, template: "<ng-container *ngIf=\"hasPicture; else displayInitials\">\n\t<img class=\"picture\" [src]=\"pictureHref\" alt=\"\" (error)=\"pictureError()\" />\n</ng-container>\n\n<ng-template #displayInitials>\n\t<div class=\"picture\" [ngStyle]=\"style\">\n\t\t<span class=\"userPicture-initials\">{{ initials }}</span>\n\t</div>\n</ng-template>\n", styles: [":root{--components-options-item-padding-vertical: var(--spacings-XS);--components-options-item-padding-horizontal: var(--spacings-XS);--components-options-item-multiple-padding: 2.25rem;--components-options-item-icon-color: var(--palettes-grey-800);--components-options-checkbox-left: .5rem;--components-options-checkbox-size: 1.25rem;--components-options-checkbox-color: var(--palettes-primary-700);--components-options-checkbox-border-radius: 6px;--components-options-checkbox-border-color: var(--palettes-grey-700);--components-options-establishment-multiple-padding: 2rem}:host{--components-userPicture-XS-image: 1.5rem;--components-userPicture-XS-fontSize: var(--sizes-XS-fontSize);--components-userPicture-XS-placeholder: .75rem;--components-userPicture-S-image: 2rem;--components-userPicture-S-fontSize: var(--sizes-S-fontSize);--components-userPicture-S-placeholder: var(--sizes-XS-lineHeight);--components-userPicture-M-image: 2.5rem;--components-userPicture-M-fontSize: var(--sizes-M-fontSize);--components-userPicture-M-placeholder: var(--sizes-S-lineHeight);--components-userPicture-L-image: 3rem;--components-userPicture-L-fontSize: var(--sizes-L-fontSize);--components-userPicture-L-placeholder: var(--sizes-M-lineHeight);--components-userPicture-XXS-image: 1rem;--components-userPicture-XXS-fontSize: .5625rem;--components-userPicture-XL-image: 4.5rem;--components-userPicture-XL-fontSize: 1.8rem;--components-userPicture-XXL-image: 7.5rem;--components-userPicture-XXL-fontSize: 3rem;display:inline-block;vertical-align:middle}:host .picture{align-items:center;aspect-ratio:1;border-radius:50%;background-color:var(--palettes-grey-50);background-position:center;background-size:cover;background-repeat:no-repeat;color:var(--colors-white-color);display:flex;font-size:var(--components-user-picture-font-size, var(--components-userPicture-M-fontSize));font-weight:600;line-height:1;justify-content:center;width:var(--components-user-picture-image-size, var(--components-userPicture-M-image))}:host.mod-XXS{--components-user-picture-image-size: var(--components-userPicture-XXS-image);--components-user-picture-font-size: var(--components-userPicture-XXS-fontSize)}:host.mod-XS{--components-user-picture-image-size: var(--components-userPicture-XS-image);--components-user-picture-font-size: var(--components-userPicture-XS-fontSize);--components-user-picture-placeholder: var(--components-userPicture-XS-placeholder)}:host.mod-S{--components-user-picture-image-size: var(--components-userPicture-S-image);--components-user-picture-font-size: var(--components-userPicture-S-fontSize);--components-user-picture-placeholder: var(--components-userPicture-S-placeholder)}:host.mod-L{--components-user-picture-image-size: var(--components-userPicture-L-image);--components-user-picture-font-size: var(--components-userPicture-L-fontSize);--components-user-picture-placeholder: var(--components-userPicture-L-placeholder)}:host.mod-XL{--components-user-picture-image-size: var(--components-userPicture-XL-image);--components-user-picture-font-size: var(--components-userPicture-XL-fontSize)}:host.mod-XXL{--components-user-picture-image-size: var(--components-userPicture-XXL-image);--components-user-picture-font-size: var(--components-userPicture-XXL-fontSize)}:host.mod-border{box-shadow:0 0 0 2px var(--colors-white-color)}:host.mod-placeholder .picture{background:var(--palettes-grey-200)!important}:host.mod-placeholder .picture:before{display:inline-block;vertical-align:text-bottom;font-style:normal;font-family:Lucca icons;color:var(--palettes-grey-600);font-weight:400;font-size:var(--components-user-picture-placeholder, var(--components-userPicture-M-placeholder))}@supports (content: \"*\"/\"\"){:host.mod-placeholder .picture:before{content:\"\\e990\"/\"\"}}@supports not (content: \"*\"/\"\"){:host.mod-placeholder .picture:before{content:\"\\e990\"}}:host.mod-placeholder .userPicture-initials{display:none}\n"], dependencies: [{ kind: "directive", type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i2.NgStyle, selector: "[ngStyle]", inputs: ["ngStyle"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
}
export { LuUserPictureComponent };
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.1.3", ngImport: i0, type: LuUserPictureComponent, decorators: [{
            type: Component,
            args: [{ selector: 'lu-user-picture', changeDetection: ChangeDetectionStrategy.OnPush, template: "<ng-container *ngIf=\"hasPicture; else displayInitials\">\n\t<img class=\"picture\" [src]=\"pictureHref\" alt=\"\" (error)=\"pictureError()\" />\n</ng-container>\n\n<ng-template #displayInitials>\n\t<div class=\"picture\" [ngStyle]=\"style\">\n\t\t<span class=\"userPicture-initials\">{{ initials }}</span>\n\t</div>\n</ng-template>\n", styles: [":root{--components-options-item-padding-vertical: var(--spacings-XS);--components-options-item-padding-horizontal: var(--spacings-XS);--components-options-item-multiple-padding: 2.25rem;--components-options-item-icon-color: var(--palettes-grey-800);--components-options-checkbox-left: .5rem;--components-options-checkbox-size: 1.25rem;--components-options-checkbox-color: var(--palettes-primary-700);--components-options-checkbox-border-radius: 6px;--components-options-checkbox-border-color: var(--palettes-grey-700);--components-options-establishment-multiple-padding: 2rem}:host{--components-userPicture-XS-image: 1.5rem;--components-userPicture-XS-fontSize: var(--sizes-XS-fontSize);--components-userPicture-XS-placeholder: .75rem;--components-userPicture-S-image: 2rem;--components-userPicture-S-fontSize: var(--sizes-S-fontSize);--components-userPicture-S-placeholder: var(--sizes-XS-lineHeight);--components-userPicture-M-image: 2.5rem;--components-userPicture-M-fontSize: var(--sizes-M-fontSize);--components-userPicture-M-placeholder: var(--sizes-S-lineHeight);--components-userPicture-L-image: 3rem;--components-userPicture-L-fontSize: var(--sizes-L-fontSize);--components-userPicture-L-placeholder: var(--sizes-M-lineHeight);--components-userPicture-XXS-image: 1rem;--components-userPicture-XXS-fontSize: .5625rem;--components-userPicture-XL-image: 4.5rem;--components-userPicture-XL-fontSize: 1.8rem;--components-userPicture-XXL-image: 7.5rem;--components-userPicture-XXL-fontSize: 3rem;display:inline-block;vertical-align:middle}:host .picture{align-items:center;aspect-ratio:1;border-radius:50%;background-color:var(--palettes-grey-50);background-position:center;background-size:cover;background-repeat:no-repeat;color:var(--colors-white-color);display:flex;font-size:var(--components-user-picture-font-size, var(--components-userPicture-M-fontSize));font-weight:600;line-height:1;justify-content:center;width:var(--components-user-picture-image-size, var(--components-userPicture-M-image))}:host.mod-XXS{--components-user-picture-image-size: var(--components-userPicture-XXS-image);--components-user-picture-font-size: var(--components-userPicture-XXS-fontSize)}:host.mod-XS{--components-user-picture-image-size: var(--components-userPicture-XS-image);--components-user-picture-font-size: var(--components-userPicture-XS-fontSize);--components-user-picture-placeholder: var(--components-userPicture-XS-placeholder)}:host.mod-S{--components-user-picture-image-size: var(--components-userPicture-S-image);--components-user-picture-font-size: var(--components-userPicture-S-fontSize);--components-user-picture-placeholder: var(--components-userPicture-S-placeholder)}:host.mod-L{--components-user-picture-image-size: var(--components-userPicture-L-image);--components-user-picture-font-size: var(--components-userPicture-L-fontSize);--components-user-picture-placeholder: var(--components-userPicture-L-placeholder)}:host.mod-XL{--components-user-picture-image-size: var(--components-userPicture-XL-image);--components-user-picture-font-size: var(--components-userPicture-XL-fontSize)}:host.mod-XXL{--components-user-picture-image-size: var(--components-userPicture-XXL-image);--components-user-picture-font-size: var(--components-userPicture-XXL-fontSize)}:host.mod-border{box-shadow:0 0 0 2px var(--colors-white-color)}:host.mod-placeholder .picture{background:var(--palettes-grey-200)!important}:host.mod-placeholder .picture:before{display:inline-block;vertical-align:text-bottom;font-style:normal;font-family:Lucca icons;color:var(--palettes-grey-600);font-weight:400;font-size:var(--components-user-picture-placeholder, var(--components-userPicture-M-placeholder))}@supports (content: \"*\"/\"\"){:host.mod-placeholder .picture:before{content:\"\\e990\"/\"\"}}@supports not (content: \"*\"/\"\"){:host.mod-placeholder .picture:before{content:\"\\e990\"}}:host.mod-placeholder .userPicture-initials{display:none}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.LuUserDisplayPipe }, { type: i0.ChangeDetectorRef }]; }, propDecorators: { displayFormat: [{
                type: Input
            }, {
                type: Optional
            }], user: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlci1waWN0dXJlLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3BhY2thZ2VzL25nL3VzZXIvcGljdHVyZS91c2VyLXBpY3R1cmUuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vcGFja2FnZXMvbmcvdXNlci9waWN0dXJlL3VzZXItcGljdHVyZS5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsdUJBQXVCLEVBQXFCLFNBQVMsRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3ZHLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxpQkFBaUIsRUFBcUIsTUFBTSxZQUFZLENBQUM7Ozs7QUFHckY7O0dBRUc7QUFDSCxNQU1hLHNCQUFzQjtJQUVsQzs7O09BR0c7SUFDSCxJQUVJLGFBQWEsQ0FBQyxhQUFnQztRQUNqRCxJQUFJLENBQUMsY0FBYyxHQUFHLGFBQWEsQ0FBQztRQUNwQyxJQUFJLENBQUMsZUFBZSxDQUFDLFlBQVksRUFBRSxDQUFDO0lBQ3JDLENBQUM7SUFFRCxJQUFJLGFBQWE7UUFDaEIsT0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDO0lBQzVCLENBQUM7SUFPRCxJQUNJLElBQUksQ0FBQyxJQUFhO1FBQ3JCLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO1FBQ2xCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUNyRSxNQUFNLFdBQVcsR0FBRyxJQUFJLEVBQUUsT0FBTyxFQUFFLElBQUksSUFBSSxJQUFJLEVBQUUsV0FBVyxDQUFDO1FBQzdELElBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDLFdBQVcsQ0FBQztRQUNoQyxJQUFJLENBQUMsV0FBVyxHQUFHLFdBQVcsQ0FBQztRQUMvQixJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRTtZQUNyQixNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7WUFDOUIsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFLGtCQUFrQixFQUFFLE9BQU8sR0FBRyxhQUFhLEVBQUUsQ0FBQztTQUM3RDtRQUNELElBQUksQ0FBQyxlQUFlLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDckMsQ0FBQztJQUNELElBQUksSUFBSTtRQUNQLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztJQUNuQixDQUFDO0lBUUQsWUFBb0IsV0FBOEIsRUFBVSxlQUFrQztRQUExRSxnQkFBVyxHQUFYLFdBQVcsQ0FBbUI7UUFBVSxvQkFBZSxHQUFmLGVBQWUsQ0FBbUI7UUE1Q3RGLG1CQUFjLEdBQXNCLGlCQUFpQixDQUFDLFNBQVMsQ0FBQztRQXNDeEUsYUFBUSxHQUFHLEVBQUUsQ0FBQztRQUNkLGVBQVUsR0FBRyxLQUFLLENBQUM7UUFDbkIsZ0JBQVcsR0FBRyxFQUFFLENBQUM7UUFFakIsVUFBSyxHQUFHLEVBQUUsQ0FBQztJQUVzRixDQUFDO0lBRWxHLFlBQVk7UUFDWCxJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztRQUN4QixNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDOUIsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFLGtCQUFrQixFQUFFLE9BQU8sR0FBRyxhQUFhLEVBQUUsQ0FBQztJQUM5RCxDQUFDO0lBRU8sVUFBVTtRQUNqQixrREFBa0Q7UUFDbEQsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLFdBQVc7YUFDOUIsU0FBUyxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsaUJBQWlCLENBQUMsU0FBUyxDQUFDO2FBQ2xELEtBQUssQ0FBQyxFQUFFLENBQUM7YUFDVCxNQUFNLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUMvQyxnQ0FBZ0M7UUFDaEMsT0FBTyxPQUFPLEdBQUcsR0FBRyxDQUFDO0lBQ3RCLENBQUM7OEdBN0RXLHNCQUFzQjtrR0FBdEIsc0JBQXNCLGlIQ2JuQyxnVkFTQTs7U0RJYSxzQkFBc0I7MkZBQXRCLHNCQUFzQjtrQkFObEMsU0FBUzsrQkFDQyxpQkFBaUIsbUJBR1YsdUJBQXVCLENBQUMsTUFBTTt3SUFVM0MsYUFBYTtzQkFGaEIsS0FBSzs7c0JBQ0wsUUFBUTtnQkFnQkwsSUFBSTtzQkFEUCxLQUFLIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIENoYW5nZURldGVjdG9yUmVmLCBDb21wb25lbnQsIElucHV0LCBPcHRpb25hbCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTHVEaXNwbGF5RnVsbG5hbWUsIEx1RGlzcGxheUluaXRpYWxzLCBMdVVzZXJEaXNwbGF5UGlwZSB9IGZyb20gJy4uL2Rpc3BsYXknO1xuaW1wb3J0IHsgSUx1VXNlciB9IGZyb20gJy4uL3VzZXIubW9kZWwnO1xuXG4vKipcbiAqIERpc3BsYXlzIHVzZXIncyBwaWN0dXJlIG9yIGEgcGxhY2Vob2xkZXIgd2l0aCBoaXMvaGVyIGluaXRpYWxzIGFuZCByYW5kb20gYmcgY29sb3InXG4gKi9cbkBDb21wb25lbnQoe1xuXHRzZWxlY3RvcjogJ2x1LXVzZXItcGljdHVyZScsXG5cdHRlbXBsYXRlVXJsOiAnLi91c2VyLXBpY3R1cmUuY29tcG9uZW50Lmh0bWwnLFxuXHRzdHlsZVVybHM6IFsnLi91c2VyLXBpY3R1cmUuY29tcG9uZW50LnNjc3MnXSxcblx0Y2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG59KVxuZXhwb3J0IGNsYXNzIEx1VXNlclBpY3R1cmVDb21wb25lbnQge1xuXHRwcml2YXRlIF9kaXNwbGF5Rm9ybWF0OiBMdURpc3BsYXlJbml0aWFscyA9IEx1RGlzcGxheUluaXRpYWxzLmxhc3RmaXJzdDtcblx0LyoqXG5cdCAqIFVzZXIgRGlzcGxheSBmb3JtYXQuXG5cdCAqIEl0IGlzIHNldCB0byAnTEYnIGJ5IGRlZmF1bHRcblx0ICovXG5cdEBJbnB1dCgpXG5cdEBPcHRpb25hbCgpXG5cdHNldCBkaXNwbGF5Rm9ybWF0KGRpc3BsYXlGb3JtYXQ6IEx1RGlzcGxheUluaXRpYWxzKSB7XG5cdFx0dGhpcy5fZGlzcGxheUZvcm1hdCA9IGRpc3BsYXlGb3JtYXQ7XG5cdFx0dGhpcy5fY2hhbmdlRGV0ZWN0b3IubWFya0ZvckNoZWNrKCk7XG5cdH1cblxuXHRnZXQgZGlzcGxheUZvcm1hdCgpOiBMdURpc3BsYXlJbml0aWFscyB7XG5cdFx0cmV0dXJuIHRoaXMuX2Rpc3BsYXlGb3JtYXQ7XG5cdH1cblxuXHQvKipcblx0ICogSUx1VXNlciB3aG9zZSBwaWN0dXJlIHlvdSB3YW50IHRvIGRpc3BsYXkuXG5cdCAqL1xuXHRwcml2YXRlIF91c2VyOiBJTHVVc2VyO1xuXG5cdEBJbnB1dCgpXG5cdHNldCB1c2VyKHVzZXI6IElMdVVzZXIpIHtcblx0XHR0aGlzLl91c2VyID0gdXNlcjtcblx0XHR0aGlzLmluaXRpYWxzID0gdGhpcy5kaXNwbGF5UGlwZS50cmFuc2Zvcm0odXNlciwgdGhpcy5kaXNwbGF5Rm9ybWF0KTtcblx0XHRjb25zdCBwaWN0dXJlSHJlZiA9IHVzZXI/LnBpY3R1cmU/LmhyZWYgfHwgdXNlcj8ucGljdHVyZUhyZWY7XG5cdFx0dGhpcy5oYXNQaWN0dXJlID0gISFwaWN0dXJlSHJlZjtcblx0XHR0aGlzLnBpY3R1cmVIcmVmID0gcGljdHVyZUhyZWY7XG5cdFx0aWYgKCF0aGlzLmhhc1BpY3R1cmUpIHtcblx0XHRcdGNvbnN0IGhzbCA9IHRoaXMuZ2V0TmFtZUh1ZSgpO1xuXHRcdFx0dGhpcy5zdHlsZSA9IHsgJ2JhY2tncm91bmQtY29sb3InOiBgaHNsKCR7aHNsfSwgNjAlLCA2MCUpYCB9O1xuXHRcdH1cblx0XHR0aGlzLl9jaGFuZ2VEZXRlY3Rvci5tYXJrRm9yQ2hlY2soKTtcblx0fVxuXHRnZXQgdXNlcigpIHtcblx0XHRyZXR1cm4gdGhpcy5fdXNlcjtcblx0fVxuXG5cdGluaXRpYWxzID0gJyc7XG5cdGhhc1BpY3R1cmUgPSBmYWxzZTtcblx0cGljdHVyZUhyZWYgPSAnJztcblxuXHRzdHlsZSA9IHt9O1xuXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgZGlzcGxheVBpcGU6IEx1VXNlckRpc3BsYXlQaXBlLCBwcml2YXRlIF9jaGFuZ2VEZXRlY3RvcjogQ2hhbmdlRGV0ZWN0b3JSZWYpIHt9XG5cblx0cGljdHVyZUVycm9yKCkge1xuXHRcdHRoaXMuaGFzUGljdHVyZSA9IGZhbHNlO1xuXHRcdGNvbnN0IGhzbCA9IHRoaXMuZ2V0TmFtZUh1ZSgpO1xuXHRcdHRoaXMuc3R5bGUgPSB7ICdiYWNrZ3JvdW5kLWNvbG9yJzogYGhzbCgke2hzbH0sIDYwJSwgNjAlKWAgfTtcblx0fVxuXG5cdHByaXZhdGUgZ2V0TmFtZUh1ZSgpOiBudW1iZXIge1xuXHRcdC8vIHdlIHN1bSB0aGUgY2hhcnMgaW4gdXNlcidzIGZpcnN0bmFtZSArIGxhc3RuYW1lXG5cdFx0Y29uc3QgY2hhclN1bSA9IHRoaXMuZGlzcGxheVBpcGVcblx0XHRcdC50cmFuc2Zvcm0odGhpcy5fdXNlciwgTHVEaXNwbGF5RnVsbG5hbWUuZmlyc3RsYXN0KVxuXHRcdFx0LnNwbGl0KCcnKVxuXHRcdFx0LnJlZHVjZSgoc3VtLCBhKSA9PiBzdW0gKyBhLmNoYXJDb2RlQXQoMCksIDApO1xuXHRcdC8vIGFuZCB0YWtlIGEgbW9kdWxvIDM2MCBmb3IgaHVlXG5cdFx0cmV0dXJuIGNoYXJTdW0gJSAzNjA7XG5cdH1cbn1cbiIsIjxuZy1jb250YWluZXIgKm5nSWY9XCJoYXNQaWN0dXJlOyBlbHNlIGRpc3BsYXlJbml0aWFsc1wiPlxuXHQ8aW1nIGNsYXNzPVwicGljdHVyZVwiIFtzcmNdPVwicGljdHVyZUhyZWZcIiBhbHQ9XCJcIiAoZXJyb3IpPVwicGljdHVyZUVycm9yKClcIiAvPlxuPC9uZy1jb250YWluZXI+XG5cbjxuZy10ZW1wbGF0ZSAjZGlzcGxheUluaXRpYWxzPlxuXHQ8ZGl2IGNsYXNzPVwicGljdHVyZVwiIFtuZ1N0eWxlXT1cInN0eWxlXCI+XG5cdFx0PHNwYW4gY2xhc3M9XCJ1c2VyUGljdHVyZS1pbml0aWFsc1wiPnt7IGluaXRpYWxzIH19PC9zcGFuPlxuXHQ8L2Rpdj5cbjwvbmctdGVtcGxhdGU+XG4iXX0=